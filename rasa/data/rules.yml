version: "3.1"
rules:

- rule: Greet
  steps:
    - intent: greet
    - action: utter_greet

- rule: Goodbye
  steps:
    - intent: goodbye
    - action: utter_goodbye

- rule: Product Info → RAG
  steps:
    - intent: ask_product_info
    - action: action_rag_answer

- rule: Quote Request → RAG
  steps:
    - intent: ask_quote
    - action: action_rag_answer

- rule: FAQ → RAG
  steps:
    - intent: ask_faq
    - action: action_rag_answer

- rule: Out-of-Scope → Fallback
  steps:
    - intent: out_of_scope
    - action: utter_fallback

- rule: Save conversation on session end
  condition:
    - active_loop: null
  steps:
    - action: action_save_conversation