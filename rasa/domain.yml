version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - ask_product_info
  - agent_fallback
  - ask_quote

# — ATTRIBUTE INTENTS —
  - ask_weight
  - ask_power
  - ask_orbit
  - ask_backingpad
  - ask_size
  - ask_code
  - ask_colour
  - ask_description

entities:
  - product_model

slots:
  product_model:
    type: text
    influence_conversation: false
    # fill the slot either from the annotated entity *or* (fallback)
    # from the whole user message if no entity was recognised
    mappings:
      - type: from_entity        # ← when entity is annotated
        entity: product_model
      - type: from_text          # ← e.g. “tell me about lhr15 markv”

  page:
    type: text
    influence_conversation: false
    mappings: []          # ← we set this from the front-end event

  product_id:
    type: text
    influence_conversation: false
    mappings: []          # ← set by actions only

  product_category:
    type: text
    influence_conversation: false
    mappings: []

  product_doc:
    type: any
    influence_conversation: false
    mappings: []

responses:
  utter_greet:
    - text: "Hi there lah – ask me anything about our products or quotes!"
  utter_goodbye:
    - text: "Bye lah! Feel free to ping me again."
  utter_fallback:
    - text: "Sorry, I can’t help with that. Would you like to talk to a human?"
  utter_noop:
    - text: ""
  utter_ask_quote:      # ← placeholder quote link
    - text: "Sure thing lah – you can request your price quote here: https://example.com/quote"
  utter_agent_fallback: # ← placeholder human-handoff link
    - text: "No problem lah – our human support is ready. Please click: https://example.com/human-support"

actions:
  - action_product_info
  - action_noop
  - action_set_product_context
  - action_query_product_attribute

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true